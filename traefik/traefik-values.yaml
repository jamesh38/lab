deployment:
  podAnnotations:
    prometheus.io/port: "8082"
    prometheus.io/scrape: "true"
providers:
  kubernetesIngress:
    publishedService:
      enabled: true
priorityClassName: "system-cluster-critical"
image:
  repository: "rancher/mirrored-library-traefik"
  tag: "3.5.1"
tolerations:
- key: "CriticalAddonsOnly"
  operator: "Exists"
- key: "node-role.kubernetes.io/control-plane"
  operator: "Exists"
  effect: "NoSchedule"
service:
  ipFamilyPolicy: "PreferDualStack"
# Add Let's Encrypt configuration
additionalArguments:
  - "--certificatesresolvers.letsencrypt.acme.email=admin@jjh.us"
  - "--certificatesresolvers.letsencrypt.acme.storage=/data/acme.json"
  - "--certificatesresolvers.letsencrypt.acme.httpchallenge.entrypoint=web"
  # Enable API for Homepage integration (internal access only via ClusterIP)
  - "--api.insecure=true"
persistence:
  enabled: true
  path: /data
  size: 128Mi
